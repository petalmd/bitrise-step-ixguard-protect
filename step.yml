title: Guardsquare Protect
summary: Protect App with Guardsquare.
description: |-
  Protect your app archive before export to take advantage of the advanced security features offered by Guardsquare.

website: https://github.com/npinney/bitrise-step-ixguard-protect
source_code_url: https://github.com/npinney/bitrise-step-ixguard-protect
support_url: https://github.com/npinney/bitrise-step-ixguard-protect/issues
project_type_tags:
  - ios
  - android
  - react-native
type_tags:
  - utility
  - build
  - code-sign
is_always_run: false
is_skippable: false
toolkit:
  bash:
    entry_file: step.sh
inputs:
  - guardsquare_ssh_key: $GUARDSQUARE_SSH_KEY
    opts:
      title: SSH Key from Guardsquare
      summary: Private key register in env secrets for Guardsquare.
      description: |- 
        The private key should be registered in env secrets for Guardsquare.
      is_expand: true
      is_required: true
      value_options: []
  - guardsquare_config_version: "production@latest"
    opts:
      title: Guardsquare Config Version
      summary: Version of the Guardsquare configuration to use.
      description: |-
        Specifies the Guardsquare configuration version to apply during protection.
        Defaults to "production@latest" if not provided.
      is_expand: true
      is_required: false
      value_options: []
  - protected_app_name:
    opts:
      title: Protected App Name
      summary: Name of the protected app output file.
      description: |-
        Name for the protected app file that will be generated.
      is_expand: true
      is_required: false
      value_options: []
  - app_path:
    opts:
      title: App path
      summary: Path to the app to protect (optional, auto-detected if not provided).
      description: |-
        Path to the app to protect. If not provided, automatically detects from:
        - $BITRISE_XCARCHIVE_PATH (iOS)
        - $BITRISE_APK_PATH (Android APK)
        - $BITRISE_AAB_PATH (Android AAB)
      is_expand: true
      is_required: false
      value_options: []
outputs:
  - PROTECTED_APP_PATH:
    opts:
      title: Protected app
      summary: Path to the protected app.
      description: Replaces the unprotected app in the artifacts section after successfull processing.
